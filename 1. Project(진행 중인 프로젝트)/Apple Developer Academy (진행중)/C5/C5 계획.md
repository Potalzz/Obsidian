## 7일 Graphics → RealityKit/ARKit 로드맵

**총 목표:**

- 그래픽스 핵심 수학(벡터, 행렬, 변환) 직관적으로 이해
    
- Swift + RealityKit에서 직접 응용
    
- ARKit 기반 오브젝트 배치 & 변환 구현

---

### **Day 1 — 좌표계와 벡터 기초**

**목표:** 3D 공간을 수치로 표현하는 방법 이해

1. **이론 (1시간)**
    
    - 2D vs 3D 좌표계
        
    - 위치 벡터 vs 방향 벡터 개념
        
    - 스칼라, 벡터 차이
        
    - 벡터 덧셈/뺄셈, 스칼라 곱
        
2. **실습 (2시간)** – Swift Playgrounds
    

```swift
import simd

let a = SIMD3<Float>(1, 2, 3) // 위치
let b = SIMD3<Float>(4, 5, 6) // 방향

let sum = a + b // 덧셈
let scaled = a * 2 // 스칼라 곱
let dotProduct = dot(a, b) // 내적
let crossProduct = cross(a, b) // 외적

print("sum:", sum)
print("scaled:", scaled)
print("dot product:", dotProduct)
print("cross product:", crossProduct)

```

---

### **Day 2 — 벡터 연산의 의미와 활용**

**목표:** 내적과 외적이 왜 필요한지 직관적으로 이해

1. **이론 (1시간)**
    
    - 내적 → 각도 계산, 빛과 표면 관계
        
    - 외적 → 면의 법선 벡터 구하기
        
    - 정규화(normalization)
        
2. **실습 (2시간)**
    
    - 두 벡터의 내적으로 각도 계산
        
    - 외적으로 수직 방향 찾기
        

```swift
let v1 = normalize(SIMD3<Float>(1, 0, 0))
let v2 = normalize(SIMD3<Float>(0.5, 0.5, 0))

let angle = acos(dot(v1, v2)) * 180 / .pi
print("각도:", angle, "도")

let normal = cross(v1, v2)
print("법선 벡터:", normal)
```

---

### **Day 3 — 행렬 기초와 3D 변환**

**목표:** 행렬이 이동·회전·크기변경을 어떻게 표현하는지 이해

1. **이론 (1시간)**
    
    - 행렬은 변환 규칙
        
    - 단위 행렬, 회전 행렬, 스케일 행렬
        
    - 동차 좌표계와 w값
        
2. **실습 (2시간)** – 이동, 회전, 스케일
    

```swift
import simd

// 이동
func translationMatrix(_ t: SIMD3<Float>) -> simd_float4x4 {
    var m = matrix_identity_float4x4
    m.columns.3 = SIMD4<Float>(t, 1)
    return m
}

// 스케일
func scaleMatrix(_ s: SIMD3<Float>) -> simd_float4x4 {
    var m = matrix_identity_float4x4
    m.columns.0.x = s.x
    m.columns.1.y = s.y
    m.columns.2.z = s.z
    return m
}

let trans = translationMatrix(SIMD3(1, 2, 3))
let scale = scaleMatrix(SIMD3(2, 2, 2))

print("이동 행렬:", trans)
print("스케일 행렬:", scale)
```

---

### **Day 4 — RealityKit 기초**

**목표:** RealityKit의 Entity/Anchor/Component 개념 이해

1. **이론 (1시간)**
    
    - RealityKit 기본 구조
        
    - ARView, AnchorEntity, ModelEntity
        
    - RealityKit에서 변환 적용 방법
        
2. **실습 (2시간)**
    

```swift
import SwiftUI
import RealityKit

struct ContentView: View {
    var body: some View {
        ARViewContainer().edgesIgnoringSafeArea(.all)
    }
}

struct ARViewContainer: UIViewRepresentable {
    func makeUIView(context: Context) -> ARView {
        let arView = ARView(frame: .zero)

        let box = ModelEntity(mesh: .generateBox(size: 0.1))
        box.position = SIMD3(0, 0, -0.5) // 카메라 앞 0.5m
        box.scale = SIMD3(1, 2, 1)

        let anchor = AnchorEntity(world: .zero)
        anchor.addChild(box)
        arView.scene.addAnchor(anchor)

        return arView
    }
    func updateUIView(_ uiView: ARView, context: Context) {}
}
```

---

### **Day 5 — ARKit과 RealityKit 결합**

**목표:** 실제 공간 인식과 오브젝트 배치

1. **이론 (1시간)**
    
    - ARSession, ARWorldTrackingConfiguration
        
    - 평면 인식 후 오브젝트 배치
        
2. **실습 (2시간)**
    

- 바닥을 인식하고 터치한 위치에 오브젝트 배치
    

---

### **Day 6 — 변환 행렬로 RealityKit 제어**

**목표:** 직접 만든 변환 행렬을 RealityKit Entity에 적용

1. **이론 (1시간)**
    
    - Entity의 `transform`과 행렬 변환 차이
        
    - 직접 행렬 곱해서 움직이기
        
2. **실습 (2시간)**
    

```swift
var transform = box.transform.matrix
let move = translationMatrix(SIMD3(0.1, 0, 0))
transform = simd_mul(transform, move)
box.transform.matrix = transform
```

---

### **Day 7 — 미니 프로젝트**

**목표:** 벡터·행렬 지식을 이용해 간단한 AR 인터랙션 제작

**프로젝트 예시:**

- 사용자가 탭한 방향으로 큐브가 이동하고
	- + 벽면을 인식해서 벽에 붙이거나 벽 안으로 들어가지 않도록
	    
- 시선 방향에 따라 회전하는 AR 오브젝트 구현