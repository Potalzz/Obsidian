## ğŸ¯ **í•µì‹¬ êµ¬í˜„ íŒ¨í„´ ë¶„ì„**

### 1. **ìƒíƒœ ê´€ë¦¬ íŒ¨í„´ (State Management Pattern)**

#### ğŸ“š **í•„ìš”í•œ ê°œë…ë“¤:**

**A. Observable íŒ¨í„´**

swift

```swift
@MainActor
@Observable
class AppModel {
    var gameState = GameState.guideline
}
```

**ì´ë¡ ì  ë°°ê²½:**

- **Observer Pattern**: ê°ì²´ì˜ ìƒíƒœ ë³€í™”ë¥¼ ë‹¤ë¥¸ ê°ì²´ë“¤ì—ê²Œ ìë™ìœ¼ë¡œ ì•Œë¦¬ëŠ” íŒ¨í„´
- **Single Source of Truth**: ì•±ì˜ ëª¨ë“  ìƒíƒœë¥¼ í•˜ë‚˜ì˜ ì¤‘ì•™í™”ëœ ìœ„ì¹˜ì—ì„œ ê´€ë¦¬
- **Reactive Programming**: ìƒíƒœ ë³€í™”ì— ë°˜ì‘í•˜ëŠ” í”„ë¡œê·¸ë˜ë° íŒ¨ëŸ¬ë‹¤ì„

**êµ¬í˜„ ë°©ë²•:**

1. **@Observable ë§¤í¬ë¡œ ì´í•´**
    - Swift 5.9+ì˜ ìƒˆë¡œìš´ ê´€ì°° ì‹œìŠ¤í…œ
    - í”„ë¡œí¼í‹° ë³€ê²½ ì‹œ ìë™ìœ¼ë¡œ View ì—…ë°ì´íŠ¸
    - ì´ì „ì˜ @ObservableObject + @Published ëŒ€ì²´
2. **@MainActor ì´í•´**
    - UI ê´€ë ¨ ì‘ì—…ì€ ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰
    - ë°ì´í„° ë ˆì´ìŠ¤ ë°©ì§€
    - Thread-safe UI ì—…ë°ì´íŠ¸

**í•™ìŠµ ìˆœì„œ:**

swift

```swift
// 1ë‹¨ê³„: ê¸°ë³¸ Observable í´ë˜ìŠ¤
@Observable
class Counter {
    var count = 0
    
    func increment() {
        count += 1
    }
}

// 2ë‹¨ê³„: ë³µì¡í•œ ìƒíƒœ ê´€ë¦¬
@Observable  
class GameState {
    enum Phase { case menu, playing, paused }
    var currentPhase = Phase.menu
    var score = 0
    
    func startGame() { currentPhase = .playing }
    func pauseGame() { currentPhase = .paused }
}
```

---

### 2. **ì¡°ê±´ë¶€ View ë Œë”ë§ (Conditional View Rendering)**

#### ğŸ“š **í•„ìš”í•œ ê°œë…ë“¤:**

**A. SwiftUI View ìƒëª…ì£¼ê¸°**

swift

```swift
Group {
    if condition {
        ViewA()
    } else {
        ViewB()
    }
}
```

**ì´ë¡ ì  ë°°ê²½:**

- **Declarative UI**: ìƒíƒœì— ë”°ë¼ UIê°€ ì–´ë–»ê²Œ ë³´ì—¬ì•¼ í•˜ëŠ”ì§€ ì„ ì–¸
- **View Identity**: SwiftUIê°€ Viewë¥¼ êµ¬ë¶„í•˜ê³  ì—…ë°ì´íŠ¸í•˜ëŠ” ë°©ë²•
- **View Tree**: View ê³„ì¸µ êµ¬ì¡°ì™€ ë Œë”ë§ ê³¼ì •

**êµ¬í˜„ ë‹¨ê³„:**

**1ë‹¨ê³„: ê¸°ë³¸ ì¡°ê±´ë¶€ ë Œë”ë§**

swift

```swift
struct ContentView: View {
    @State private var showingDetail = false
    
    var body: some View {
        VStack {
            if showingDetail {
                DetailView()
            } else {
                ListView()
            }
        }
    }
}
```

**2ë‹¨ê³„: ë³µì¡í•œ ìƒíƒœ ê¸°ë°˜ ë Œë”ë§**

swift

```swift
struct GameView: View {
    @Environment(AppModel.self) private var appModel
    
    var body: some View {
        Group {
            switch appModel.gameState {
            case .guideline:
                GuidelineView()
            case .playing:
                GamePlayView()
            case .completed:
                CompletionView()
            }
        }
        .animation(.easeInOut, value: appModel.gameState)
    }
}
```

---

### 3. **3D ì—”í‹°í‹° ìƒëª…ì£¼ê¸° ê´€ë¦¬**

#### ğŸ“š **í•„ìš”í•œ ê°œë…ë“¤:**

**A. RealityKit Entity ì‹œìŠ¤í…œ**

swift

```swift
class EntityManager {
    private var entities: [Entity] = []
    
    func addEntity(_ entity: Entity, to anchor: AnchorEntity) {
        entities.append(entity)
        anchor.addChild(entity)
    }
    
    func removeAllEntities() {
        entities.forEach { $0.removeFromParent() }
        entities.removeAll()
    }
}
```

**ì´ë¡ ì  ë°°ê²½:**

- **Entity-Component System (ECS)**: ê²Œì„ ê°œë°œì˜ í•µì‹¬ ì•„í‚¤í…ì²˜ íŒ¨í„´
- **Scene Graph**: 3D ê°ì²´ë“¤ì˜ ë¶€ëª¨-ìì‹ ê´€ê³„ë¥¼ íŠ¸ë¦¬ êµ¬ì¡°ë¡œ ê´€ë¦¬
- **Memory Management**: 3D ë¦¬ì†ŒìŠ¤ì˜ ìƒì„±ê³¼ í•´ì œ

**í•™ìŠµ ê³¼ì •:**

**1ë‹¨ê³„: Entity ê¸°ë³¸ ì´í•´**

swift

```swift
// Entity ìƒì„±
let entity = Entity()
entity.name = "MyEntity"

// ë¶€ëª¨-ìì‹ ê´€ê³„
let parent = Entity()
let child = Entity()
parent.addChild(child)

// Entity ì œê±°
child.removeFromParent()
```

**2ë‹¨ê³„: ìƒëª…ì£¼ê¸° ê´€ë¦¬ íŒ¨í„´**

swift

```swift
protocol EntityLifecycleManager {
    func setupEntities()
    func cleanupEntities()
    func transitionToNewScene()
}

class SceneManager: EntityLifecycleManager {
    private var currentEntities: [Entity] = []
    
    func setupEntities() {
        // ìƒˆ ì—”í‹°í‹°ë“¤ ìƒì„± ë° ì„¤ì •
    }
    
    func cleanupEntities() {
        currentEntities.forEach { $0.removeFromParent() }
        currentEntities.removeAll()
    }
    
    func transitionToNewScene() {
        cleanupEntities()
        setupEntities()
    }
}
```

---

### 4. **Environment ì‹œìŠ¤í…œ**

#### ğŸ“š **í•„ìš”í•œ ê°œë…ë“¤:**

**A. Dependency Injection íŒ¨í„´**

swift

```swift
// 1. Environment ê°’ ì •ì˜
@Environment(AppModel.self) private var appModel

// 2. ìƒìœ„ Viewì—ì„œ ì œê³µ
ContentView()
    .environment(appModel)
```

**ì´ë¡ ì  ë°°ê²½:**

- **Dependency Injection**: ì˜ì¡´ì„±ì„ ì™¸ë¶€ì—ì„œ ì£¼ì…ë°›ëŠ” íŒ¨í„´
- **Inversion of Control**: ì œì–´ì˜ ì—­ì „, ê°ì²´ê°€ ì§ì ‘ ìƒì„±í•˜ì§€ ì•Šê³  ì™¸ë¶€ì—ì„œ ë°›ìŒ
- **Data Flow**: SwiftUIì—ì„œ ë°ì´í„°ê°€ íë¥´ëŠ” ë°©í–¥ê³¼ íŒ¨í„´

**êµ¬í˜„ ë‹¨ê³„:**

**1ë‹¨ê³„: ê¸°ë³¸ Environment ì‚¬ìš©**

swift

```swift
// AppModel ì •ì˜
@Observable
class AppModel {
    var isLoggedIn = false
}

// Appì—ì„œ ì œê³µ
@main
struct MyApp: App {
    @State private var appModel = AppModel()
    
    var body: some Scene {
        WindowGroup {
            ContentView()
                .environment(appModel)
        }
    }
}

// Viewì—ì„œ ì‚¬ìš©
struct ContentView: View {
    @Environment(AppModel.self) private var appModel
    
    var body: some View {
        if appModel.isLoggedIn {
            MainView()
        } else {
            LoginView()
        }
    }
}
```

---

### 5. **ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜ (Event-Driven Architecture)**

#### ğŸ“š **í•„ìš”í•œ ê°œë…ë“¤:**

**A. ë°œí–‰-êµ¬ë… íŒ¨í„´ (Pub-Sub Pattern)**

swift

```swift
// ê²Œì„ ì§„í–‰ ìƒí™© ì¶”ì 
private func checkGameCompletion() {
    if allConditionsMet() {
        NotificationCenter.default.post(
            name: .gameCompleted, 
            object: nil
        )
    }
}
```

**ì´ë¡ ì  ë°°ê²½:**

- **Event-Driven Programming**: ì´ë²¤íŠ¸ ë°œìƒì— ë”°ë¼ í”„ë¡œê·¸ë¨ íë¦„ì´ ê²°ì •
- **Observer Pattern**: ìƒíƒœ ë³€í™”ë¥¼ ê´€ì°°í•˜ê³  ë°˜ì‘
- **Loose Coupling**: ì»´í¬ë„ŒíŠ¸ ê°„ ëŠìŠ¨í•œ ê²°í•©

---

## ğŸ› ï¸ **ë‹¨ê³„ë³„ í•™ìŠµ ë¡œë“œë§µ**

### **1ë‹¨ê³„: SwiftUI ê¸°ì´ˆ**

swift

```swift
// ëª©í‘œ: ìƒíƒœ ê¸°ë°˜ UI êµ¬ì¶•
@State private var isShowingDetail = false

var body: some View {
    VStack {
        Button("Toggle") {
            isShowingDetail.toggle()
        }
        
        if isShowingDetail {
            Text("Detail View")
        }
    }
}
```

### **2ë‹¨ê³„: ìƒíƒœ ê´€ë¦¬**

swift

```swift
// ëª©í‘œ: Observable íŒ¨í„´ ì´í•´
@Observable
class GameModel {
    enum GameState { case menu, playing, ended }
    var currentState = GameState.menu
    
    func startGame() { currentState = .playing }
    func endGame() { currentState = .ended }
}
```

### **3ë‹¨ê³„: RealityKit ê¸°ì´ˆ**

swift

```swift
// ëª©í‘œ: 3D ì—”í‹°í‹° ìƒì„±/ì œê±°
RealityView { content in
    let entity = ModelEntity(mesh: .generateBox(size: 1))
    content.add(entity)
} update: { content in
    // ì—…ë°ì´íŠ¸ ë¡œì§
}
```

### **4ë‹¨ê³„: ìƒëª…ì£¼ê¸° ê´€ë¦¬**

swift

```swift
// ëª©í‘œ: ì—”í‹°í‹° ìƒëª…ì£¼ê¸° ì œì–´
class SceneController {
    private var entities: [Entity] = []
    
    func loadScene() {
        // ì—”í‹°í‹° ìƒì„±
    }
    
    func unloadScene() {
        entities.forEach { $0.removeFromParent() }
        entities.removeAll()
    }
}
```

### **5ë‹¨ê³„: í†µí•© êµ¬í˜„**

swift

```swift
// ëª©í‘œ: ëª¨ë“  íŒ¨í„´ì„ ê²°í•©í•œ ì™„ì „í•œ ì•±
@Observable
class AppModel {
    enum AppState { case intro, game, completion }
    var currentState = AppState.intro
}

struct MainApp: View {
    @State private var appModel = AppModel()
    
    var body: some View {
        Group {
            switch appModel.currentState {
            case .intro: IntroView()
            case .game: GameView()
            case .completion: CompletionView()
            }
        }
        .environment(appModel)
        .animation(.easeInOut, value: appModel.currentState)
    }
}
```

---

## ğŸ“– **í•™ìŠµ ë¦¬ì†ŒìŠ¤**

### **1. Swift/SwiftUI ê¸°ì´ˆ**

- Appleì˜ SwiftUI Tutorials
- Swift Programming Language Guide
- iOS App Dev Tutorials

### **2. ë””ìì¸ íŒ¨í„´**

- Observer Pattern
- State Pattern
- Strategy Pattern
- Dependency Injection

### **3. RealityKit**

- Apple RealityKit Documentation
- WWDC RealityKit Sessions
- Entity-Component System ê°œë…

### **4. ì•„í‚¤í…ì²˜ íŒ¨í„´**

- MVVM (Model-View-ViewModel)
- MVI (Model-View-Intent)
- Clean Architecture

---

## ğŸ¯ **ì‹¤ìŠµ í”„ë¡œì íŠ¸ ì œì•ˆ**

### **ë‹¨ê³„ 1: ê°„ë‹¨í•œ ìƒíƒœ ì „í™˜ ì•±**

swift

```swift
// ë¡œê·¸ì¸ -> ë©”ì¸ -> ìƒì„¸ í™”ë©´ ì „í™˜
enum AppFlow { case login, main, detail }
```

### **ë‹¨ê³„ 2: 3D ê°ì²´ ê´€ë¦¬ ì•±**

swift

```swift
// 3D ê°ì²´ ìƒì„±/ì œê±°/ì „í™˜ ì—°ìŠµ
class EntityManager {
    func switchScene(from: SceneType, to: SceneType)
}
```

### **ë‹¨ê³„ 3: ê²Œì„ ìƒíƒœ ê´€ë¦¬ ì•±**

swift

```swift
// ì‹¤ì œ ê²Œì„ ë¡œì§ê³¼ UI ìƒíƒœ ì—°ë™
@Observable
class GameController {
    var health: Int
    var score: Int
    var gameState: GameState
}
```

ì´ë ‡ê²Œ ë‹¨ê³„ë³„ë¡œ í•™ìŠµí•˜ë©´ ë³µì¡í•œ ì•± ì•„í‚¤í…ì²˜ë„ ì²´ê³„ì ìœ¼ë¡œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤! ğŸš€