## 수면가스 개발
### 개요
수면가스 모니터를 핀치하면 수면가스 모니터를 조작할 수 있는 windowr기반의 UI가 나오고, 수면가스 모니터 위에 있는 화면과 상호작용하여 값이 변경되게 한다.

#### 개발 순서
피그마 수면가스 모니터 이미지 가져옴
이미지 가져와서 윈도우 뷰로 모니터 위에 띄우기
윈도우 뷰에서 +-버튼 상호작용 테스트
모니터에 윈도우 화면 붙이기


**swiftUI뷰에 버튼에 따라 숫자 조작하고 변경되게**
**Attachment에 모니터 붙이기**
**모니터뷰에서 3,6,9맞으면 활성화 이미지 표시**
**숫자 맞으면 연기 particle나오도록**


### 기능 목록
- [ ] 핀치를 통한 수면가스 모니터 선택
      tabGesture로 선택
- [ ] 수면가스 모니터 에셋 위에 Attachment를 통해 swiftUI 화면을 올린다
      모니터 위에 Plane깔고 위치 가져와서 그대로 올리기 (테스트 필요)
- [ ] 모니터가 선택되면 window화면이 나온다
      tabGesture를 통해 bolean으로 판별
	- [x] swiftUI로 조작할 수 있는 윈도우 화면을 제작한다
- [ ] window 화면에서의 변경값이 수면가스 모니터에 반영된다.
      window화면이랑 같은 화면 쓰면 해결
- [ ] 모니터 화면에서 특정 숫자가 되면 수면가스가 나온다



### 체크리스트
- [ ] 모니터 이미지 파일 +,-, 따로 받아서 뷰에 반영하기



### 이슈
#### 진행중
##### swiftUI View를 Attachments로 띄웠을 때 버튼에 hover효과가 버튼 크기와 다르게 적용되는 문제
1. RealityView의 attachments는 2D View를 3D 공간에 투영하는 원리이므로, 프레임 해상도와 스케일이 달라진다.
2. mmersive 환경에서는 View가 **디바이스에서 재투영(render-to-texture)** 되면서  `SwiftUI`에서 본 UI 비율과 실제 `RealityKit` 상의 UI 비율이 **달라짐**
3. visionOS는 버튼에 **자동 hoverEffect (visual affordance)** 를 추가하는데,이 효과는 "화면상 View의 크기 기준"으로 적용되므로 RealityView에서 **스케일이 줄어들면 hover 원도 더 작게 보임**

**해결 방안 1. 버튼을 교체해서 호버 효과 대체**
hover와 커서 효과를 모두 제거하고, 포커스 받을 때 색상이나 크기를 바꾸는 커스텀 뷰로 대체한다.

-> 근본적으로 문제를 해결하는 것이 아니라 버튼에 대해서만 꼼수로 적용

**해결 방안 2. Entity로 불러오기**

전체 화면을 `Entity`로 작성하는 방식과 필요한 부분만 `Entity`로 작성하는 두 가지 방법이 존재한다. 지금의 경우에는 나머지 화면은 단순한 2D 화면이여도 큰 문제가 없으므로, 상호작용이 필요한 부분만 `Entity`로 분리해서 제작해서 배치하는 방식이 적합해보인다.







#### 해결
- [x] 모니터 위에 모달 띄우는 것은 가능한데, 모니터 축이 화면 중앙에 있음
      에셋 새로 불러와서 설정